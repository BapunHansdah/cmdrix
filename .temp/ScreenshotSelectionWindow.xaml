<Window x:Class="cmdrix.ScreenshotSelectionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Area" 
        WindowState="Maximized"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="#80000000"
        Topmost="True"
        Cursor="Cross"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        MouseMove="Window_MouseMove"
        MouseLeftButtonUp="Window_MouseLeftButtonUp"
        KeyDown="Window_KeyDown">

    <!-- Use Canvas for absolute positioning -->
    <Canvas>
        <!-- Selection rectangle -->
        <Rectangle x:Name="SelectionRectangle"
                   Stroke="#00FF99"
                   StrokeThickness="2"
                   Fill="#2000FF99"
                   Visibility="Collapsed"/>

        <!-- Control buttons panel -->
        <StackPanel x:Name="ControlPanel"
                    Orientation="Horizontal"
                    Canvas.Left="0"
                    Canvas.Bottom="40">

            <Border Background="#DD1E1E1E"
                    BorderBrush="#333333"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="20,10">
                <StackPanel Orientation="Horizontal">
                    <Button x:Name="ConfirmButton"
                            Content="✓ Confirm"
                            Background="#2E8B57"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="20,8"
                            Margin="0,0,10,0"
                            FontFamily="Consolas"
                            FontSize="13"
                            IsEnabled="False"
                            Click="ConfirmButton_Click"
                            Cursor="Hand"/>

                    <Button Content="✗ Cancel"
                            Background="#CC4444"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="20,8"
                            FontFamily="Consolas"
                            FontSize="13"
                            Click="CancelButton_Click"
                            Cursor="Hand"/>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- Instructions -->
        <TextBlock x:Name="InstructionText"
                   Text="Drag to select an area"
                   Foreground="#CCCCCC"
                   FontFamily="Consolas"
                   FontSize="14"
                   Canvas.Left="0"
                   Canvas.Top="40"
                   Background="#DD1E1E1E"
                   Padding="15,8"/>
    </Canvas>
</Window>